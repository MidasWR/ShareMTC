# Follow-up: order-vm linking contract

## Что сделано
- Выделен отдельный follow-up по проблеме `UX-05`: ручная привязка VM к order в таблице `My Servers`.
- Зафиксирован целевой переход от ручного маппинга в UI к контрактному `order -> vm_id`.

## Почему так сделано
- Текущий UI-паттерн с `Linked VM` в каждой строке создаёт лишнюю когнитивную нагрузку и мешает демо-сценарию.
- Проблема затрагивает API-контракт и не должна блокировать быстрый релиз wave 0/1.

## С какими трудностями столкнулся
- `ServerOrder` может приходить без `vm_id`, из-за чего lifecycle команды зависят от ручного выбора VM.
- Автоматически восстановить связь только на фронте без надёжного backend-поля невозможно для всех кейсов.

## Какие решения принял
- Вынести задачу в отдельный поток как контрактное изменение backend + frontend.
- До внедрения контракта оставить текущую механику как временно допустимую для хакатона, без расширения костылей.

## План следующей итерации
1. Добавить в API гарантированное поле `vm_id` для `ServerOrder` после успешного provisioning.
2. Обновить frontend: убрать ручной `Linked VM` selector из таблицы и показывать статус связи (`Linked`/`Pending`).
3. Перенести lifecycle actions в компактный actions-блок без ручного выбора VM.
4. Добавить проверки в тестах на сценарий: `create order -> provision -> lifecycle actions available`.
